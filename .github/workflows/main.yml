on: push
name: 🚀 Enviar a producción 
jobs:
  web-deploy:
    name: 🎉 Enviar
    runs-on: ubuntu-latest
    steps:
    - name: 🚚 Obteniendo cambios
      uses: actions/checkout@v3
    
    - name: 📦 Configurar Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '22'  # Specify the Node.js version you need

    - name: 📂 Instalar dependencias
      run: npm install  # Installs dependencies (or use `npm ci` if you have a lockfile for CI purposes)

    - name: 🛠️ Compilar proyecto
      run: npm run build  # Builds your project and creates the `dist` folder

    - name: 📂 Sincronizando archivos 
      uses: SamKirkland/web-deploy@v1
      with:
        target-server: 159.223.171.135
        remote-user: root
        private-ssh-key: ${{ secrets.SSH_KEY }}
        destination-path: ~/

on: push
name: ğŸš€ Enviar a producciÃ³n 
jobs:
  web-deploy:
    name: ğŸ‰ Enviar
    runs-on: ubuntu-latest
    steps:
    - name: ğŸšš Obteniendo cambios
      uses: actions/checkout@v3
    
    - name: ğŸ“¦ Configurar Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '22'  # Specify the Node.js version you need

    - name: ğŸ“‚ Instalar dependencias
      run: npm install  # Installs dependencies (or use `npm ci` if you have a lockfile for CI purposes)

    - name: ğŸ› ï¸ Compilar proyecto
      run: npm run build  # Builds your project and creates the `dist` folder

    - name: ğŸ“‚ Sincronizando archivos 
      uses: SamKirkland/web-deploy@v1
      with:
        target-server: 159.223.171.135
        remote-user: root
        private-ssh-key: ${{ secrets.SSH_KEY }}
        destination-path: ~/
